name: azure-vpc-subnets
type: terraform
description: Module to provision vpc-subnets on azure
tags:
  - tools
  - devops
versions:
  - platforms: []
    providers:
      - name: azurerm
        source: hashicorp/azurerm
    dependencies:
      - id: resource_group
        refs:
          - source: github.com/cloud-native-toolkit/terraform-azure-resource-group
            version: '>= 1.0.0'
      - id: vnet
        refs:
          - source: github.com/cloud-native-toolkit/terraform-azure-vpc
            version: '>= 1.0.0'
    variables:
      - name: resource_group_name
        type: string
        description: >-
          The name of the Azure resource group where the VPC has been
          provisioned.
        moduleRef:
          id: resource_group
          output: name
      - name: region
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
        scope: global
      - name: vpc_name
        type: string
        description: The name of the vpc instance
        moduleRef:
          id: vnet
          output: name
      - name: label
        type: string
        description: Label for the subnets created
        default: default
      - name: _count
        type: number
        description: The number of subnets that should be provisioned
        default: '0'
      - name: ipv4_cidr_blocks
        type: list(string)
        description: >-
          List of ipv4 cidr blocks for the subnets that will be created (e.g.
          ['10.10.10.0/24']). If you are providing cidr blocks then a value must
          be provided for each of the subnets. If you don't provide cidr blocks
          for each of the subnets then values will be generated using the
          {ipv4_address_count} value.
        default: []
      - name: provision
        type: bool
        description: >-
          Flag indicating that the subnet should be provisioned. If 'false' then
          the subnet will be looked up.
        default: true
      - name: acl_rules
        type: |-
          list(object({
              name=string,
              action=string,
              direction=string,
              source=string,
              destination=string,
              priority=optional(number),
              tcp=optional(object({
                port_min=number,
                port_max=number,
                source_port_min=number,
                source_port_max=number
              })),
              udp=optional(object({
                port_min=number,
                port_max=number,
                source_port_min=number,
                source_port_max=number
              })),
              icmp=optional(object({
                type=number,
                code=optional(number)
              })),
            }))
        description: List of rules to set on the subnet access control list
        default: '[]'
      - name: enabled
        type: bool
        description: Flag to indicate that IBM VPC module should be enabled
        default: true
      - name: service_endpoints
        type: list(string)
        description: The list of service endpoints for the subnet
        default:
          - Microsoft.ContainerRegistry
    version: v1.1.0
    outputs:
      - name: count
        description: The number of subnets created
      - name: name
      - name: ids
        description: The ids of the created subnets
      - name: names
        description: The ids of the created subnets
      - name: subnets
        description: The subnets that were created
      - name: acl_id
        description: The id of the network acl for the subnets
      - name: vpc_name
        description: The name of the VPC where the subnets were provisioned
      - name: vpc_id
        description: The id of the VPC where the subnets were provisioned
      - name: cidr_blocks
        description: The cidr block(s) assigned to the subnets
      - name: enabled
  - platforms: []
    providers:
      - name: azurerm
        source: hashicorp/azurerm
    dependencies:
      - id: resource_group
        refs:
          - source: github.com/cloud-native-toolkit/terraform-azure-resource-group
            version: '>= 1.0.0'
      - id: vnet
        refs:
          - source: github.com/cloud-native-toolkit/terraform-azure-vpc
            version: '>= 1.0.0'
    variables:
      - name: resource_group_name
        type: string
        description: >-
          The name of the Azure resource group where the VPC has been
          provisioned.
        moduleRef:
          id: resource_group
          output: name
      - name: region
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
        scope: global
      - name: vpc_name
        type: string
        description: The name of the vpc instance
        moduleRef:
          id: vnet
          output: name
      - name: label
        type: string
        description: Label for the subnets created
        default: default
      - name: _count
        type: number
        description: The number of subnets that should be provisioned
        default: '0'
      - name: ipv4_cidr_blocks
        type: list(string)
        description: >-
          List of ipv4 cidr blocks for the subnets that will be created (e.g.
          ['10.10.10.0/24']). If you are providing cidr blocks then a value must
          be provided for each of the subnets. If you don't provide cidr blocks
          for each of the subnets then values will be generated using the
          {ipv4_address_count} value.
        default: []
      - name: provision
        type: bool
        description: >-
          Flag indicating that the subnet should be provisioned. If 'false' then
          the subnet will be looked up.
        default: true
      - name: acl_rules
        type: |-
          list(object({
              name=string,
              action=string,
              direction=string,
              source=string,
              destination=string,
              priority=optional(number),
              tcp=optional(object({
                port_min=number,
                port_max=number,
                source_port_min=number,
                source_port_max=number
              })),
              udp=optional(object({
                port_min=number,
                port_max=number,
                source_port_min=number,
                source_port_max=number
              })),
              icmp=optional(object({
                type=number,
                code=optional(number)
              })),
            }))
        description: List of rules to set on the subnet access control list
        default: '[]'
      - name: enabled
        type: bool
        description: Flag to indicate that IBM VPC module should be enabled
        default: true
    version: v1.0.2
    outputs:
      - name: count
        description: The number of subnets created
      - name: name
      - name: ids
        description: The ids of the created subnets
      - name: names
        description: The ids of the created subnets
      - name: subnets
        description: The subnets that were created
      - name: acl_id
        description: The id of the network acl for the subnets
      - name: vpc_name
        description: The name of the VPC where the subnets were provisioned
      - name: vpc_id
        description: The id of the VPC where the subnets were provisioned
      - name: cidr_blocks
        description: The cidr block(s) assigned to the subnets
      - name: enabled
  - platforms: []
    providers:
      - name: azurerm
        source: hashicorp/azurerm
    dependencies:
      - id: resource_group
        refs:
          - source: github.com/cloud-native-toolkit/terraform-azure-resource-group
            version: '>= 1.0.0'
      - id: vnet
        refs:
          - source: github.com/cloud-native-toolkit/terraform-azure-vpc
            version: '>= 1.0.0'
    variables:
      - name: resource_group_name
        type: string
        description: >-
          The name of the Azure resource group where the VPC has been
          provisioned.
        moduleRef:
          id: resource_group
          output: name
      - name: region
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
        scope: global
      - name: vpc_name
        type: string
        description: The name of the vpc instance
        moduleRef:
          id: vnet
          output: name
      - name: label
        type: string
        description: Label for the subnets created
        default: default
      - name: _count
        type: number
        description: The number of subnets that should be provisioned
        default: '0'
      - name: ipv4_cidr_blocks
        type: list(string)
        description: >-
          List of ipv4 cidr blocks for the subnets that will be created (e.g.
          ['10.10.10.0/24']). If you are providing cidr blocks then a value must
          be provided for each of the subnets. If you don't provide cidr blocks
          for each of the subnets then values will be generated using the
          {ipv4_address_count} value.
        default: []
      - name: provision
        type: bool
        description: >-
          Flag indicating that the subnet should be provisioned. If 'false' then
          the subnet will be looked up.
        default: true
      - name: acl_rules
        type: |-
          list(object({
              name=string,
              action=string,
              direction=string,
              source=string,
              destination=string,
              priority=optional(number),
              tcp=optional(object({
                port_min=number,
                port_max=number,
                source_port_min=number,
                source_port_max=number
              })),
              udp=optional(object({
                port_min=number,
                port_max=number,
                source_port_min=number,
                source_port_max=number
              })),
              icmp=optional(object({
                type=number,
                code=optional(number)
              })),
            }))
        description: List of rules to set on the subnet access control list
        default: '[]'
      - name: enabled
        type: bool
        description: Flag to indicate that IBM VPC module should be enabled
        default: true
    version: v1.0.1
    outputs:
      - name: count
        description: The number of subnets created
      - name: name
      - name: ids
        description: The ids of the created subnets
      - name: names
        description: The ids of the created subnets
      - name: subnets
        description: The subnets that were created
      - name: acl_id
        description: The id of the network acl for the subnets
      - name: vpc_name
        description: The name of the VPC where the subnets were provisioned
      - name: vpc_id
        description: The id of the VPC where the subnets were provisioned
      - name: enabled
  - platforms: []
    providers:
      - name: azurerm
        source: hashicorp/azurerm
    dependencies:
      - id: resource_group
        refs:
          - source: github.com/cloud-native-toolkit/terraform-azure-resource-group
            version: '>= 1.0.0'
      - id: vnet
        refs:
          - source: github.com/cloud-native-toolkit/terraform-azure-vpc
            version: '>= 1.0.0'
    variables:
      - name: resource_group_name
        type: string
        description: >-
          The name of the Azure resource group where the VPC has been
          provisioned.
        moduleRef:
          id: resource_group
          output: name
      - name: region
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
        scope: global
      - name: vpc_name
        type: string
        description: The name of the vpc instance
        moduleRef:
          id: vnet
          output: name
      - name: label
        type: string
        description: Label for the subnets created
        default: default
      - name: _count
        type: number
        description: The number of subnets that should be provisioned
        default: '0'
      - name: ipv4_cidr_blocks
        type: list(string)
        description: >-
          List of ipv4 cidr blocks for the subnets that will be created (e.g.
          ['10.10.10.0/24']). If you are providing cidr blocks then a value must
          be provided for each of the subnets. If you don't provide cidr blocks
          for each of the subnets then values will be generated using the
          {ipv4_address_count} value.
        default: []
      - name: provision
        type: bool
        description: >-
          Flag indicating that the subnet should be provisioned. If 'false' then
          the subnet will be looked up.
        default: true
      - name: acl_rules
        type: |-
          list(object({
              name=string,
              action=string,
              direction=string,
              source=string,
              destination=string,
              priority=optional(number),
              tcp=optional(object({
                port_min=number,
                port_max=number,
                source_port_min=number,
                source_port_max=number
              })),
              udp=optional(object({
                port_min=number,
                port_max=number,
                source_port_min=number,
                source_port_max=number
              })),
              icmp=optional(object({
                type=number,
                code=optional(number)
              })),
            }))
        description: List of rules to set on the subnet access control list
        default: '[]'
      - name: enabled
        type: bool
        description: Flag to indicate that IBM VPC module should be enabled
        default: true
    version: v1.0.0
    outputs:
      - name: count
        description: The number of subnets created
      - name: name
      - name: ids
        description: The ids of the created subnets
      - name: names
        description: The ids of the created subnets
      - name: subnets
        description: The subnets that were created
      - name: acl_id
        description: The id of the network acl for the subnets
      - name: vpc_name
        description: The name of the VPC where the subnets were provisioned
      - name: vpc_id
        description: The id of the VPC where the subnets were provisioned
      - name: enabled
cloudProvider: azure
id: github.com/cloud-native-toolkit/terraform-azure-vpc-subnets
